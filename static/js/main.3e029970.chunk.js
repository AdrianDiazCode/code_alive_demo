(this.webpackJsonpcode_alive=this.webpackJsonpcode_alive||[]).push([[0],{10:function(e,t,n){var a=n(50),r=a.states({normal:{string:/".*?"/,block_comment_start:{match:/\/\*/,push:"comment"},line_comment:{match:/\/\/.*/},ws:{match:/[\s\t]+/,lineBreaks:!0},number:/[0-9]+(?:\.[0-9]+)?/,true:["true"],false:["false"],identifier:{match:/[a-zA-Z_]+[0-9]*/,type:a.keywords({keyword:["for","let","function","if","while","else","return","break","continue"]})},binary_op:["*","/","=","+","-","||","&&","<",">","<=",">=","==","==="],symbol:[".",",",";","(",")","{","}"],undef:/./},comment:{block_comment_end:{match:/\*\//,push:"normal"},url:{match:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/},comment:{match:/[\S]+/,lineBreaks:!0},ws_comment:{match:/(?:\n|\s|\t)+/,lineBreaks:!0},undef:/./}});e.exports=r},32:function(e,t,n){e.exports=n(62)},37:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},49:function(e,t,n){!function(){function t(e){return e[0]}var a=n(10),r=n(51)(),s={Lexer:a,ParserRules:[{name:"Main",symbols:["statements_list"],postprocess:r.program},{name:"_ws",symbols:[a.has("ws")?{type:"ws"}:ws],postprocess:t},{name:"_ws",symbols:[],postprocess:t},{name:"block_comment_content$ebnf$1",symbols:[]},{name:"block_comment_content$ebnf$1$subexpression$1",symbols:[a.has("comment")?{type:"comment"}:comment],postprocess:t},{name:"block_comment_content$ebnf$1$subexpression$1",symbols:[a.has("url")?{type:"url"}:url],postprocess:t},{name:"block_comment_content$ebnf$1$subexpression$1",symbols:[a.has("ws_comment")?{type:"ws_comment"}:ws_comment],postprocess:t},{name:"block_comment_content$ebnf$1",symbols:["block_comment_content$ebnf$1","block_comment_content$ebnf$1$subexpression$1"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"block_comment_content",symbols:["block_comment_content$ebnf$1"]},{name:"block_comment_content",symbols:[],postprocess:t},{name:"block_comment",symbols:[a.has("block_comment_start")?{type:"block_comment_start"}:block_comment_start,"block_comment_content",a.has("block_comment_end")?{type:"block_comment_end"}:block_comment_end],postprocess:r.dflt()},{name:"comment",symbols:[a.has("line_comment")?{type:"line_comment"}:line_comment],postprocess:t},{name:"comment",symbols:["block_comment"],postprocess:t},{name:"_",symbols:["_ws"],postprocess:t},{name:"_",symbols:["_ws","comment","_"],postprocess:r.dflt()},{name:"identifier_t",symbols:[a.has("identifier")?{type:"identifier"}:identifier],postprocess:t},{name:"number_t",symbols:[a.has("number")?{type:"number"}:number],postprocess:t},{name:"string_t",symbols:[a.has("string")?{type:"string"}:string],postprocess:t},{name:"bool_t",symbols:[!a.has("true")||{type:"true"}],postprocess:t},{name:"bool_t",symbols:[!!a.has("false")&&{type:"false"}],postprocess:t},{name:"expression",symbols:["bin_expression"],postprocess:t},{name:"non_bin_expression",symbols:["identifier_e"],postprocess:t},{name:"non_bin_expression",symbols:["group_e"],postprocess:t},{name:"non_bin_expression",symbols:["array_e"],postprocess:t},{name:"non_bin_expression",symbols:["object_e"],postprocess:t},{name:"non_bin_expression",symbols:["const_e"],postprocess:t},{name:"non_bin_expression",symbols:["function_e"],postprocess:t},{name:"non_bin_expression",symbols:["expression_call_e"],postprocess:t},{name:"non_bin_expression",symbols:["access_by_index_e"],postprocess:t},{name:"non_bin_expression",symbols:["property_e"],postprocess:t},{name:"bin_expression",symbols:["assignment_e"],postprocess:t},{name:"assignable_e",symbols:["identifier_e"],postprocess:t},{name:"assignment_e",symbols:["assignable_e","_",{literal:"="},"_","assignment_e"],postprocess:r.binary_operation},{name:"assignment_e",symbols:["or_e"],postprocess:t},{name:"or_e",symbols:["or_e","_",{literal:"||"},"_","and_e"],postprocess:r.binary_operation},{name:"or_e",symbols:["and_e"],postprocess:t},{name:"and_e",symbols:["and_e","_",{literal:"&&"},"_","comp_e"],postprocess:r.binary_operation},{name:"and_e",symbols:["comp_e"],postprocess:t},{name:"comp_op",symbols:[{literal:">"}],postprocess:t},{name:"comp_op",symbols:[{literal:"<"}],postprocess:t},{name:"comp_op",symbols:[{literal:"=="}],postprocess:t},{name:"comp_e",symbols:["sumdiff_e","_","comp_op","_","sumdiff_e"],postprocess:r.binary_operation},{name:"comp_e",symbols:["sumdiff_e"],postprocess:t},{name:"sumdiff_op",symbols:[{literal:"+"}],postprocess:t},{name:"sumdiff_op",symbols:[{literal:"-"}],postprocess:t},{name:"sumdiff_e",symbols:["sumdiff_e","_","sumdiff_op","_","muldiv_e"],postprocess:r.binary_operation},{name:"sumdiff_e",symbols:["muldiv_e"],postprocess:t},{name:"muldiv_op",symbols:[{literal:"*"}],postprocess:t},{name:"muldiv_op",symbols:[{literal:"/"}],postprocess:t},{name:"muldiv_op",symbols:[{literal:"%"}],postprocess:t},{name:"muldiv_e",symbols:["muldiv_e","_","muldiv_op","_","non_bin_expression"],postprocess:r.binary_operation},{name:"muldiv_e",symbols:["non_bin_expression"],postprocess:t},{name:"identifier_e",symbols:["identifier_t"],postprocess:r.identifier_expression},{name:"const_e",symbols:["number_const_e"],postprocess:t},{name:"const_e",symbols:["string_const_e"],postprocess:t},{name:"const_e",symbols:["bool_const_e"],postprocess:t},{name:"number_const_e",symbols:["number_t"],postprocess:r.constant_expression},{name:"string_const_e",symbols:["string_t"],postprocess:r.constant_expression},{name:"bool_const_e",symbols:["bool_t"],postprocess:r.constant_expression},{name:"group_e",symbols:[{literal:"("},"_","expression","_",{literal:")"}],postprocess:r.group},{name:"array_e",symbols:[{literal:"["},"optional_expressions_list",{literal:"]"}],postprocess:r.arraypp},{name:"object_e",symbols:[{literal:"{"},"optional_key_value_list",{literal:"}"}],postprocess:r.object},{name:"optional_key_value_list",symbols:["_","tagged_key_value_list","_"],postprocess:r.mark_important(1)},{name:"optional_key_value_list",symbols:["_"],postprocess:r.empty_list},{name:"tagged_key_value_list",symbols:["key_value_list"],postprocess:r.key_value_list},{name:"key_value_list",symbols:["key_value_pair"],postprocess:r.list_initialization},{name:"key_value_list",symbols:["key_value_pair","comma_separator","key_value_list"],postprocess:r.append_element},{name:"key_value_pair",symbols:["key","_",{literal:":"},"_","expression"],postprocess:r.key_value_pair},{name:"key",symbols:["identifier_t"],postprocess:r.identifier_key},{name:"key",symbols:["string_t"],postprocess:r.string_key},{name:"function_e",symbols:[{literal:"function"},"_",{literal:"("},"optional_parameters_list",{literal:")"},"_","block_st"],postprocess:r.function_definition},{name:"optional_parameters_list",symbols:["_","tagged_parameters_list","_"],postprocess:r.mark_important(1)},{name:"optional_parameters_list",symbols:["_"],postprocess:r.empty_list},{name:"tagged_parameters_list",symbols:["parameters_list"],postprocess:r.parameters_list},{name:"parameters_list",symbols:["single_parameter"],postprocess:r.list_initialization},{name:"parameters_list",symbols:["single_parameter","comma_separator","parameters_list"],postprocess:r.append_element},{name:"single_parameter",symbols:["identifier_t","optional_assignment_fragment"],postprocess:r.parameter},{name:"expression_call_e",symbols:["callable_expression","_",{literal:"("},"optional_expressions_list",{literal:")"}],postprocess:r.expression_call},{name:"callable_expression",symbols:["identifier_e"],postprocess:t},{name:"callable_expression",symbols:["function_e"],postprocess:t},{name:"callable_expression",symbols:["group_e"],postprocess:t},{name:"callable_expression",symbols:["property_e"],postprocess:t},{name:"optional_expressions_list",symbols:["_","tagged_expressions_list","_"],postprocess:r.mark_important(1)},{name:"optional_expressions_list",symbols:["_"],postprocess:r.empty_list},{name:"tagged_expressions_list",symbols:["expressions_list"],postprocess:r.expressions_list},{name:"expressions_list",symbols:["expression"],postprocess:r.list_initialization},{name:"expressions_list",symbols:["expression","comma_separator","expressions_list"],postprocess:r.append_element},{name:"access_by_index_e",symbols:["expression_with_index","_",{literal:"["},"_","expression","_",{literal:"]"}],postprocess:r.access_by_index_expression},{name:"expression_with_index",symbols:["identifier_e"],postprocess:t},{name:"expression_with_index",symbols:["group_e"],postprocess:t},{name:"expression_with_index",symbols:["property_e"],postprocess:t},{name:"expression_with_index",symbols:["array_e"],postprocess:t},{name:"expression_with_index",symbols:["string_const_e"],postprocess:t},{name:"expression_with_index",symbols:["access_by_index_e"],postprocess:t},{name:"comma_separator",symbols:["_",{literal:","},"_"],postprocess:r.dflt()},{name:"propertyable_e",symbols:["group_e"],postprocess:t},{name:"propertyable_e",symbols:["identifier_e"],postprocess:t},{name:"propertyable_e",symbols:["property_e"],postprocess:t},{name:"property_e",symbols:["propertyable_e","_",{literal:"."},"_","identifier_t"],postprocess:r.property_expression},{name:"statement",symbols:["non_declaration_st"],postprocess:t},{name:"statement",symbols:["declaration_st"],postprocess:t},{name:"declaration_keyword",symbols:[{literal:"let"}],postprocess:t},{name:"declaration_keyword",symbols:[{literal:"var"}],postprocess:t},{name:"declaration_keyword",symbols:[{literal:"const"}],postprocess:t},{name:"declaration_st",symbols:["declaration_fragment","_",{literal:";"}],postprocess:r.declaration_statement},{name:"declaration_fragment",symbols:["declaration_keyword","_","tagged_declaration_list"],postprocess:r.declaration_fragment},{name:"single_declaration",symbols:["identifier_t","optional_assignment_fragment"],postprocess:r.single_declaration},{name:"tagged_declaration_list",symbols:["declarations_list"],postprocess:r.declaration_list},{name:"declarations_list",symbols:["single_declaration"],postprocess:r.list_initialization},{name:"declarations_list",symbols:["single_declaration","declarations_separator","declarations_list"],postprocess:r.append_element},{name:"declarations_separator",symbols:["_",{literal:","},"_"],postprocess:r.dflt()},{name:"optional_assignment_fragment",symbols:["_",{literal:"="},"_","expression"],postprocess:r.assignment_fragment},{name:"optional_assignment_fragment",symbols:[],postprocess:t},{name:"non_declaration_st",symbols:["block_st"],postprocess:t},{name:"non_declaration_st",symbols:["expression_st"],postprocess:t},{name:"non_declaration_st",symbols:["if_st"],postprocess:t},{name:"non_declaration_st",symbols:["for_st"],postprocess:t},{name:"non_declaration_st",symbols:["return_st"],postprocess:t},{name:"non_declaration_st",symbols:["break_st"],postprocess:t},{name:"non_declaration_st",symbols:["continue_st"],postprocess:t},{name:"break_st",symbols:[{literal:"break"},"_",{literal:";"}],postprocess:r.break_statement},{name:"continue_st",symbols:[{literal:"continue"},"_",{literal:";"}],postprocess:r.continue_statement},{name:"expression_st",symbols:["expression","_",{literal:";"}],postprocess:r.expression_statement},{name:"if_st",symbols:[{literal:"if"},"_",{literal:"("},"_","expression","_",{literal:")"},"_","non_declaration_st","else_st"],postprocess:r.ifpp},{name:"for_st",symbols:[{literal:"for"},"_",{literal:"("},"_","for_init","_",{literal:";"},"_","expression","_",{literal:";"},"_","expression","_",{literal:")"},"_","non_declaration_st"],postprocess:r.forpp},{name:"for_init",symbols:["declaration_fragment"],postprocess:t},{name:"for_init",symbols:["expression"],postprocess:t},{name:"for_init",symbols:["_"],postprocess:t},{name:"else_st",symbols:["_",{literal:"else"},"_","non_declaration_st"],postprocess:r.else_fragment},{name:"else_st",symbols:[],postprocess:t},{name:"statements_list",symbols:["_","tagged_statements_list","_"],postprocess:r.mark_important(1)},{name:"statements_list",symbols:["_"],postprocess:r.empty_list},{name:"tagged_statements_list",symbols:["not_null_statement_list"],postprocess:r.statement_list},{name:"not_null_statement_list",symbols:["statement"],postprocess:r.list_initialization},{name:"not_null_statement_list",symbols:["statement","_","not_null_statement_list"],postprocess:r.append_element},{name:"block_st",symbols:[{literal:"{"},"statements_list",{literal:"}"}],postprocess:r.block_statement},{name:"return_st",symbols:[{literal:"return"},"_","expression","_",{literal:";"}],postprocess:r.return_statement}],ParserStart:"Main"};"undefined"!==typeof e.exports?e.exports=s:window.grammar=s}()},51:function(e,t,n){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,r++)a[r]=s[i];return a};t.__esModule=!0,e.exports=function(){var e=0,t=function(e,t){return e[t]&&e[t].types&&e[t].types.includes("important_mark")?e[t].important:e[t]},n=function(n){return{id:e++,types:["list"],list:t(n,0),children:n}};return{dflt:function(t){return void 0===t&&(t="wrapper"),function(n){return{id:e++,types:[t],children:n}}},mark_important:function(n){return void 0===n&&(n=0),function(a){return{id:e++,types:["important_mark"],children:a,important:t(a,n)}}},program:function(n){return{id:e++,types:["statement","program"],statements_list_node:t(n,0),children:n}},list_initialization:function(t){return{id:e++,types:["important_mark"],important:t,children:t}},append_element:function(n){return{id:e++,types:["important_mark"],important:a([t(n,0)],t(n,2)),children:n}},binary_operation:function(n){return{id:e++,types:["expression","binary_expression"],left:t(n,0),operator:t(n,2),right:t(n,4),children:n}},block_statement:function(n){return{id:e++,types:["statement","block_statement"],statements_list_node:t(n,1),children:n}},group:function(n){return{id:e++,types:["expression","group_expression"],expression:t(n,2),children:n}},expressions_list:n,statement_list:n,declaration_list:n,parameters_list:n,key_value_list:n,parameter:function(n){return{id:e++,types:["parameter"],parameter_identifier:t(n,0),optional_assignment_fragment:t(n,1),children:n}},declaration_statement:function(n){return{id:e++,types:["statement","declaration_statement"],declaration_fragment:t(n,0),children:n}},declaration_fragment:function(n){return{id:e++,types:["declaration_fragment"],declaration_keyword:t(n,0),declarations_list:t(n,2),children:n}},assignment_fragment:function(n){return{id:e++,types:["optional_assignment_fragment"],value:t(n,3),children:n}},forpp:function(n){return{id:e++,types:["statement","for_statement"],for_keyword:t(n,0),for_init:t(n,4),condition:t(n,8),final_expression:t(n,12),statement:t(n,16),children:n}},ifpp:function(n){return{id:e++,types:["statement","if_statement"],if_keyword:t(n,0),condition:t(n,4),statement:t(n,8),else_fragment:t(n,9),children:n}},else_fragment:function(n){return{id:e++,types:["else_fragment"],else_keyword:t(n,1),statement:t(n,3),children:n}},single_declaration:function(n){return{id:e++,types:["single_declaration"],identifier:t(n,0),optional_assignment_fragment:t(n,1),children:n}},empty_list:function(t){return{id:e++,types:["list"],list:[],children:t}},expression_statement:function(n){return{id:e++,types:["statement","expression_statement"],expression:t(n,0),children:n}},function_definition:function(n){return{id:e++,types:["expression","function_definition_expression"],function_keyword:t(n,0),parameters_list:t(n,3),block_statement:t(n,6),children:n}},expression_call:function(n){return{id:e++,types:["expression","expression_call"],expression:t(n,0),call_parameters:t(n,3),children:n}},identifier_expression:function(n){return{id:e++,types:["expression","identifier_expression"],token:t(n,0),children:n}},constant_expression:function(n){return{id:e++,types:["expression","constant_expression"],token:t(n,0),children:n}},arraypp:function(n){return{id:e++,types:["expression","array_expression"],items_list:t(n,1),children:n}},identifier_key:function(n){return{id:e++,types:["key","idenrifier_key"],value:t(n,0).value,token:t(n,0),children:n}},string_key:function(n){return{id:e++,types:["key","string_key"],value:t(n,0).value.substr(1,t(n,0).value.length-2),token:t(n,0),children:n}},key_value_pair:function(n){return{id:e++,types:["key_value_pair"],key:t(n,0),value:t(n,4),children:n}},object:function(n){return{id:e++,types:["expression","object_expression"],key_value_pairs_list:t(n,1),children:n}},access_by_index_expression:function(n){return{id:e++,types:["expression","access_by_index"],expression:t(n,0),index:t(n,4),children:n}},property_expression:function(n){return{id:e++,types:["expression","property_expression"],expression:t(n,0),property_identifier:t(n,4),children:n}},return_statement:function(n){return{id:e++,types:["statement","return_statement"],return_keyword:t(n,0),expression:t(n,2),children:n}},break_statement:function(t){return{id:e++,types:["statement","break_statement"],children:t}},continue_statement:function(t){return{id:e++,types:["statement","continue_statement"],children:t}},block_comment_content:function(t){return console.log(t),{id:e++,types:"comment",children:t}}}}},52:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),i=n.n(s),o=(n(37),n(38),n(19)),l=(n(44),n(15)),c=n(6);var u={test:":)",code:'\n\n/*\n\nHi, I\'m Adrian, Creator of this demo.\nthis is an animated code editor,\nthis is what comes to my mind when someone says \nthey can not SEE what the code does.\n\nDisclaimer: this is not JS, \nit\'s just a language that resembles js on purpose for this proof of concept.\nI call it tinylang. It supports variables, functions, objects and arrays  \nand is lexical scoped.\n\nfeel free to write me to my main \nsite https://adriandiazcode.github.io/profile_page/ if \nyou find a bug/suggestion.\n\nEnjoy ;)\n\n*/\n\n\n\nlet get_candidate_score = function (candidate, requirements_array) {\n    let score = 0;\n    let candidate_skills = candidate.skills;\n    for(let i = 0; i < requirements_array.length; i = i + 1){\n        let requirement = requirements_array[i];\n        for(let j = 0; j < candidate_skills.length; j = j+1){\n            let skill = candidate_skills[j];\n            if(skill == requirement){\n                score = score +10;\n                break;\n            }\n        }\n    }\n    return score;\n};\n\n\nlet get_best_candidate = function (candidates_array, requirements_array) {\n    let best_candidate_so_far = 0;\n    let max_score = 0;\n    for (let i = 0; i < candidates_array.length; i=i+1) {\n        let candidate = candidates_array[i];\n        let candidate_score = get_candidate_score(candidate, requirements_array);\n        if (candidate_score > max_score) {\n            max_score = candidate_score;\n            best_candidate_so_far = i;\n        }\n    }\n    return candidates_array[best_candidate_so_far];\n};\n\nlet first_candidate = {\n    name: "Adrian",\n    skills: ["react", "django", "go"]\n};\n\nlet second_candidate = {\n    name: "May B. Notgood",\n    skills: ["can move his ear"]\n};\n\nlet candidates = [\n    first_candidate,\n    second_candidate\n];\n\nlet requirements = ["react","django"];\nlet best_candidate = get_best_candidate(candidates, requirements);\nlet best_candidate_name = best_candidate.name;\n\n\n\n\n\n\n\n\n\n\n',replacements_dict:{},executed_ast_statements:[],scopes_json:[],selection_status:{cursor_position:null,cursor_selection_end:null}};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CODE":return Object.assign({},e,{code:t.payload});case"SET_SELECTION_STATUS":var n=t.payload;return(n.cursor_selection_end<n.cursor_position||null==n.cursor_selection_end)&&(n.cursor_selection_end=n.cursor_position),Object.assign({},e,{selection_status:t.payload});case"SET_REPLACEMENT":var a=t.payload,r=Object(c.a)({},e.replacements_dict);return r[a.ast_object_id]=a.replacement_string,Object.assign({},e,{replacements_dict:r});case"CLEAR_REPLACEMENTS":return Object.assign({},e,{replacements_dict:{}});default:return e}},_=Object(l.b)({globals_reducer:p}),d=Object(l.c)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),m=n(1),f=n.n(m),v=n(2),h=n(20),y=n(3),b=n(8),g=n(9);function x(e){return"array"===e.type}function k(e){return"object"===e.type}function w(e){return"undefined"===e.type}function E(e){return"boolean"===e.type}function j(e){return"function"===e.type}function O(e){return"number"===e.type}function C(e){return"string"===e.type}var N=function(e){return{push:function(t){return{id:++t.current,type:"internal_method",value:{caller:e,function:(n=++t.current,function(e,t){var a=e.value.push(t);return{id:n,type:"number",value:a}}),method_mutates_caller:!0},is_internal:!0};var n},length:function(t){return{id:++t.current,value:e.value.length,type:"number"}}}},L={id:-1899,type:"undefined",value:void 0};var B=n(13);function R(e){var t={id:e.id,type:e.type,value:e.value};return x(e)?t=function(e){var t,n=[],a={},r=Object(y.a)(e.value);try{for(r.s();!(t=r.n()).done;){var s=t.value;n.push(R(s))}}catch(c){r.e(c)}finally{r.f()}for(var i=0,o=Object.keys(e.members);i<o.length;i++){var l=o[i];a[l]=N(e)}return{id:e.id,type:"array",value:n,members:a}}(e):k(e)&&(t=function(e){for(var t={},n=0,a=Object.keys(e.value);n<a.length;n++){var r=a[n],s=e.value[r];t[r]=R(s)}return{id:e.id,type:"object",value:t,members:e.members,representation_name:e.representation_name}}(e)),t}var M=function(){function e(t,n,a){Object(b.a)(this,e),this.id=void 0,this.name=void 0,this.value=void 0,this.name=n,this.value=a,this.id=t}return Object(g.a)(e,[{key:"clone_unlinked",value:function(){return new e(this.id,this.name,R(this.value))}}]),e}(),T=function(){function e(){Object(b.a)(this,e),this.scoped_variables=void 0,this.scoped_variables={}}return Object(g.a)(e,[{key:"clone_unlinked",value:function(){for(var t={},n=new e,a=0,r=Object.keys(this.scoped_variables);a<r.length;a++){var s=r[a];t[s]=this.get_variable(s).clone_unlinked()}return n.scoped_variables=t,n}},{key:"add_variable",value:function(e){this.scoped_variables[e.name]=e}},{key:"get_variable",value:function(e){return e in this.scoped_variables?this.scoped_variables[e]:null}}]),e}(),z=function(){function e(){Object(b.a)(this,e),this.scopes_list=void 0,this.is_closure=void 0,this.variable_counter_ref=void 0,this.scopes_list=[],this.is_closure=!1,this.variable_counter_ref={current:0}}return Object(g.a)(e,[{key:"clone_scopes_list",value:function(e){var t,n=[],a=Object(y.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(r.clone_unlinked())}}catch(s){a.e(s)}finally{a.f()}return n}},{key:"clone_unlinked",value:function(){var t=new e;return t.scopes_list=this.clone_scopes_list(this.scopes_list),t.is_closure=this.is_closure,t.variable_counter_ref=Object(c.a)({},this.variable_counter_ref),t}},{key:"clone_as_closure",value:function(){var t=new e;return t.scopes_list=Object(B.a)(this.scopes_list),t.is_closure=!0,t.variable_counter_ref=this.variable_counter_ref,t}},{key:"get_scopes_json",value:function(){return this.scopes_list.map((function(e){for(var t={},n=Object.keys(e.scoped_variables),a=0;a<n.length;a++){var r=n[a],s=e.get_variable(r);s&&(t[r]={name:s.name,value:s.value})}}))}},{key:"set_scopes_json",value:function(e){}},{key:"start_scope",value:function(){var e=new T;this.scopes_list.push(e)}},{key:"end_scope",value:function(){this.scopes_list.pop()}},{key:"get_current_scope",value:function(){return this.scopes_list.length>0?this.scopes_list.slice(-1)[0]:null}},{key:"add_variable",value:function(e,t){var n=new M(++this.variable_counter_ref.current,e,t),a=this.get_current_scope();a&&a.add_variable(n)}},{key:"is_varname_available_in_current_scope",value:function(e){var t=this.get_current_scope();if(null!==t&&e in t.scoped_variables)return!0;return!1}},{key:"get_variable",value:function(e){for(var t=this.scopes_list.length-1;t>=0;t--){var n=this.scopes_list[t].get_variable(e);if(n)return n}return null}},{key:"set_variable",value:function(e,t){for(var n=null,a=this.scopes_list.length-1;a>=0;a--){if(n=this.scopes_list[a].get_variable(e))break}if(!n)throw console.log(this.scopes_list),console.log(e),console.log("variable ",e," not found in scope"),Error("variable "+e+" not found in scope");n.value=t}}]),e}();function P(e){return e.types.includes("block_statement")}function S(e){return e.types.includes("declaration_statement")}function H(e){return e.types.includes("if_statement")}function $(e){return e.types.includes("for_statement")}function F(e){return e.types.includes("expression")}function I(e){return e.types.includes("expression_statement")}function A(e){return e.types.includes("binary_expression")}function q(e){return e.types.includes("group_expression")}function D(e){return e.types.includes("identifier_expression")}function Z(e){return e.types.includes("constant_expression")}function U(e){return e.types.includes("function_definition_expression")}function X(e){return e.types.includes("expression_call")}function V(e){return e.types.includes("array_expression")}function W(e){return e.types.includes("object_expression")}function G(e){return e.types.includes("property_expression")}function J(e){return e.types.includes("access_by_index")}function Y(e){return e.types.includes("return_statement")}function K(e){return function e(t){var n=[t.ast_id];if(t.children.length>0){var a,r=Object(y.a)(t.children);try{for(r.s();!(a=r.n()).done;){var s=a.value;n.push.apply(n,Object(B.a)(e(s)))}}catch(i){r.e(i)}finally{r.f()}}return n}(function e(t){var n,a=[],r=!0;if(F(t))if(r=!1,V(t)){var s,i=Object(y.a)(t.items_list.list);try{for(i.s();!(s=i.n()).done;){var o=e(s.value);a.push(o)}}catch(K){i.e(K)}finally{i.f()}}else if(A(t)){var l=e(t.left),c=e(t.right);a.push(l),a.push(c)}else if(q(t))a.push(e(t.expression));else if(W(t)){var u,p=Object(y.a)(t.key_value_pairs_list.list);try{for(p.s();!(u=p.n()).done;){var _=e(u.value.value);a.push(_)}}catch(K){p.e(K)}finally{p.f()}}else if(G(t))a.push(e(t.expression));else if(J(t))a.push(e(t.expression)),a.push(e(t.index));else if(U(t)){a.push(e(t.block_statement));var d,m=Object(y.a)(t.parameters_list.list);try{for(m.s();!(d=m.n()).done;){var f=d.value;f.optional_assignment_fragment&&a.push(e(f.optional_assignment_fragment))}}catch(K){m.e(K)}finally{m.f()}}else if(X(t)){a.push(e(t.expression));var v,h=Object(y.a)(t.call_parameters.list);try{for(h.s();!(v=h.n()).done;){var b=v.value;a.push(e(b))}}catch(K){h.e(K)}finally{h.f()}}else if(!Z(t)&&!D(t))throw new Error("expression of types "+t.types.join(" ")+" is not included in dependency_tree function");if(t.types.includes("statement"))if(r=!1,H(t)){var g=e(t.condition),x=e(t.statement);if(a.push(g,x),t.else_fragment){var k=e(t.else_fragment.statement);a.push(k)}}else if($(t)){var w=t.for_init;if((n=w)&&n.types.includes("expression")&&a.push(e(w)),function(e){return!(null===e||!e.types.includes("declaration_fragment"))}(w)){var E,j=Object(y.a)(w.declarations_list.list);try{for(j.s();!(E=j.n()).done;){var O=E.value;if(O.optional_assignment_fragment){var C=e(O.optional_assignment_fragment.value);a.push(C)}}}catch(K){j.e(K)}finally{j.f()}}a.push(e(t.condition)),a.push(e(t.final_expression))}else if(Y(t))a.push(e(t.expression));else if(I(t))a.push(e(t.expression));else if(S(t)){var N,L=Object(y.a)(t.declaration_fragment.declarations_list.list);try{for(L.s();!(N=L.n()).done;){var B=N.value;if(B.optional_assignment_fragment){var R=e(B.optional_assignment_fragment.value);a.push(R)}}}catch(K){L.e(K)}finally{L.f()}}else{if(!P(t))throw new Error("statement of types "+t.types.join(" ")+" is not included in dependency_tree function");var M,T=Object(y.a)(t.statements_list_node.list);try{for(T.s();!(M=T.n()).done;){var z=M.value;a.push(e(z))}}catch(K){T.e(K)}finally{T.f()}}if(r)throw new Error("ast object of types "+t.types.join(" ")+" is not included in dependency_tree function");return{ast_id:t.id,children:a}}(e))}var Q=function(e){return{execution_result:"failed",value:L}},ee=function(e){return{execution_result:"complete",value:L}},te=function(){function e(t){Object(b.a)(this,e),this.options=void 0,this.value_counter_ref=void 0,this.closures=void 0,this.ast_program=void 0,this.execution_finished=void 0,this.returned_expression_value=void 0,this.break_flag=void 0,this.continue_flag=void 0,this.ast_program=null,this.execution_finished=!1,this.closures={},this.returned_expression_value=null,this.break_flag=!1,this.continue_flag=!1,this.options=t,this.value_counter_ref={current:0}}return Object(g.a)(e,[{key:"init",value:function(e){this.ast_program=e}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||new z;this.ast_program&&this.execute_program(this.ast_program,t)}},{key:"execute_statement",value:function(e,t){if(this.returned_expression_value)return"complete";if(this.break_flag)return"complete";if(this.continue_flag)return"complete";var n="failed";return this.options.on_before_execution&&this.options.on_before_execution(e,t.clone_unlinked()),P(e)?n=this.execute_block(e,t):S(e)?n=this.execute_declaration(e,t):H(e)?n=this.execute_if_statement(e,t):$(e)?n=this.execute_for_statement(e,t):I(e)?n=this.execute_expression_statement(e,t):Y(e)?n=this.execute_return_statement(e,t):n=e.types.includes("break_statement")?this.execute_break_statement(e,t):function(e){return e.types.includes("continue_statement")}(e)?this.execute_continue_statement(e,t):this.statement_type_not_found(e),"failed"===n&&(console.error("execution failed for ",e),this.execution_finished=!0),"complete"===n&&this.options.on_after_execution&&this.options.on_after_execution(e,t.clone_unlinked()),n}},{key:"statement_type_not_found",value:function(e){return console.error("execute method not found for statement: ",e),"failed"}},{key:"execute_return_statement",value:function(e,t){var n=this.evaluate(e.expression,t);return"failed"===n.execution_result?"failed":(this.returned_expression_value=n.value,"complete")}},{key:"execute_break_statement",value:function(e,t){return this.break_flag=!0,"complete"}},{key:"execute_continue_statement",value:function(e,t){return this.continue_flag=!0,"complete"}},{key:"execute_expression_statement",value:function(e,t){return"failed"===this.evaluate(e.expression,t).execution_result?"failed":"complete"}},{key:"start_scope",value:function(e){e.start_scope(),this.options.on_new_scope&&this.options.on_new_scope(e.clone_unlinked())}},{key:"end_scope",value:function(e){e.end_scope(),this.options.on_scope_end&&this.options.on_scope_end(e.clone_unlinked())}},{key:"execute_block",value:function(e,t){this.start_scope(t);for(var n=e.statements_list_node.list,a=0;a<n.length;a++){var r=n[a];if("failed"===this.execute_statement(r,t))return"failed"}return this.end_scope(t),"complete"}},{key:"execute_program",value:function(e,t){t.start_scope(),this.options.on_program_start&&this.options.on_program_start(e,t.clone_unlinked());for(var n=e.statements_list_node.list,a=0;a<n.length;a++){var r=n[a];if("failed"===this.execute_statement(r,t))return"failed"}return this.execution_finished=!0,"complete"}},{key:"execute_if_statement",value:function(e,t){var n=e.condition,a=this.evaluate(n,t);if(this.options.on_after_if_condition_eval&&this.options.on_after_if_condition_eval(e,a.value),"failed"===a.execution_result)return"failed";var r=a.value;return(null===r||void 0===r?void 0:r.value)?this.execute_statement(e.statement,t):e.else_fragment?this.execute_statement(e.else_fragment.statement,t):"complete"}},{key:"execute_for_statement",value:function(e,t){this.start_scope(t);var n=e.for_init,a=e.condition,r=e.final_expression,s=e.statement,i=this,o="complete";function l(){var e=i.evaluate(a,t);if("failed"===e.execution_result)o="failed";else if(e.value)return!!e.value.value;return!1}n&&(n.types.includes("declaration_fragment")?this.declare_variables(t,n):F(n)&&this.evaluate(n,t));for(var u=0;!this.returned_expression_value&&!this.break_flag&&(this.continue_flag=!1,this.options.on_before_for_loop&&this.options.on_before_for_loop(e),l());){if("failed"===this.execute_statement(s,t))return"failed";if(!this.returned_expression_value&&!this.break_flag){var p=this.evaluate(r,t);if(this.options.on_after_for_loop&&this.options.on_after_for_loop(e),"failed"==p.execution_result)return"failed";if(++u>1e3)return console.log(Object(c.a)({},t)),console.error("max iteration depth exeded"),"failed"}}return this.break_flag=!1,this.end_scope(t),o}},{key:"add_variable_to_scope",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee(++this.value_counter_ref.current).value;t.add_variable(n,a);var r=t.get_variable(n);this.options.on_variable_declaration&&r&&this.options.on_variable_declaration(e,r.clone_unlinked(),t.clone_unlinked())}},{key:"declare_variable",value:function(e,t){var n=t.identifier.value,a=ee(++this.value_counter_ref.current).value;t.optional_assignment_fragment&&(a=this.evaluate(t.optional_assignment_fragment.value,e).value);this.add_variable_to_scope(t,e,n,a)}},{key:"declare_variables",value:function(e,t){var n,a=t.declarations_list.list,r=Object(y.a)(a);try{for(r.s();!(n=r.n()).done;){var s=n.value;this.declare_variable(e,s)}}catch(i){r.e(i)}finally{r.f()}}},{key:"execute_declaration",value:function(e,t){try{return this.declare_variables(t,e.declaration_fragment),"complete"}catch(n){return console.error(n),"failed"}}},{key:"evaluate",value:function(e,t){var n;this.options.on_before_evaluation&&this.options.on_before_evaluation(e,t.clone_unlinked());var a=Q(++this.value_counter_ref.current);return Z(e)?a=this.evaluate_constant(e,t):D(e)?a=this.evaluate_identifier(e,t):A(e)?a=this.evaluate_binary(e,t):q(e)?a=this.evaluate_group(e,t):U(e)?a=this.evaluate_function_definition(e,t):X(e)?a=this.evaluate_expression_call(e,t):V(e)?a=this.evaluate_array(e,t):W(e)?a=this.evaluate_object(e,t):G(e)?a=this.evaluate_property(e,t):J(e)?a=this.evaluate_access_by_index_expression(e,t):this.expression_type_not_found(e),"failed"===(n=a.execution_result)&&console.error("evaluation failed for ",e),"complete"===n&&this.options.on_after_evaluation&&this.options.on_after_evaluation(e,t.clone_unlinked(),a.value),a}},{key:"expression_type_not_found",value:function(e){return console.error("evaluate method not found for expression: ",e),Q(++this.value_counter_ref.current)}},{key:"evaluate_function_definition",value:function(e,t){var n=t.clone_as_closure();n.is_closure=!0;var a={function:e,scope:n};return{value:{id:++this.value_counter_ref.current,value:a,type:"function"},execution_result:"complete"}}},{key:"evaluate_array",value:function(e,t){for(var n=e.items_list.list,a=function(e){var t={id:++e.current,type:"array",value:[]},n=N(t);return t.members=n,t}(this.value_counter_ref),r=0;r<n.length;r++){var s=n[r],i=this.evaluate(s,t);if("failed"==i.execution_result)return Q(++this.value_counter_ref.current);a.value.push(i.value)}return{execution_result:"complete",value:a}}},{key:"evaluate_object",value:function(e,t){for(var n=e.key_value_pairs_list.list,a={id:++this.value_counter_ref.current,representation_name:"object",type:"object",value:{}},r=[],s=0;s<n.length;s++){var i=n[s],o=i.key.value;if(r.includes(o))return console.error("same key twice for expression:",e),Q(++this.value_counter_ref.current);r.push(o);var l=this.evaluate(i.value,t);if("failed"==l.execution_result)return Q(++this.value_counter_ref.current);a.value[o]=l.value}return{execution_result:"complete",value:a}}},{key:"evaluate_function_call",value:function(e,t,n){var a=e.value,r=a.scope,s=t.call_parameters.list,i=a.function.parameters_list.list;if(s.length!==i.length)return console.error("incorrect number of parameters for",t),Q(++this.value_counter_ref.current);this.start_scope(r);for(var o=[],l=0;l<i.length;l++){var c=s[l],u=this.evaluate(c,n);o.push(u.value)}this.options.on_before_function_call&&this.options.on_before_function_call(e.value.function,t,o);for(var p=0;p<i.length;p++){var _=i[p],d=o[p];this.add_variable_to_scope(_,r,_.parameter_identifier.value,d)}this.options.on_scope_change&&this.options.on_scope_change(r.clone_unlinked());var m=this.execute_statement(a.function.block_statement,r);this.options.on_scope_change&&this.options.on_scope_change(n.clone_unlinked());var f=ee(++this.value_counter_ref.current).value;return this.returned_expression_value&&(f=this.returned_expression_value,this.returned_expression_value=null),"failed"!==m&&this.options.on_function_call&&this.options.on_function_call(e.value.function),{execution_result:m,value:f}}},{key:"evaluate_internal_method_call",value:function(e,t,n){for(var a=e.value,r=a.caller,s=t.call_parameters.list,i=[],o=0;o<s.length;o++){var l=s[o],c=this.evaluate(l,n);if("failed"===c.execution_result)return Q(++this.value_counter_ref.current);i.push(c.value)}var u=a.function.apply(void 0,[r].concat(i));return this.options.on_value_update&&a.method_mutates_caller&&this.options.on_value_update(R(r)),{execution_result:"complete",value:u}}},{key:"evaluate_expression_call",value:function(e,t){var n=this.evaluate(e.expression,t);if("failed"===n.execution_result)return Q(++this.value_counter_ref.current);var a=n.value;return j(a)?this.evaluate_function_call(a,e,t):"internal_method"===a.type?this.evaluate_internal_method_call(a,e,t):Q(++this.value_counter_ref.current)}},{key:"evaluate_assignment",value:function(e,t,n){var a=t,r=this.evaluate(a,n),s=r.value;if("complete"===r.execution_result&&D(e)){var i=n.get_variable(e.token.value);return i&&(i.value=s),this.options.on_assignment&&i&&this.options.on_assignment(t,i.clone_unlinked(),n.clone_unlinked()),r}return Q(++this.value_counter_ref.current)}},{key:"evaluate_group",value:function(e,t){return this.evaluate(e.expression,t)}},{key:"access_object_property",value:function(e,t){var n=ee(++this.value_counter_ref.current);if(k(e))e.value.hasOwnProperty(t)&&(n={execution_result:"complete",value:e.value[t]});else if(x(e)&&e.value.hasOwnProperty(t)){var a=Number(t);isNaN(a)||(n={execution_result:"complete",value:e.value[a]})}if(e.members){var r=e.members;if(r.hasOwnProperty(t))return{execution_result:"complete",value:r[t](this.value_counter_ref)}}return n}},{key:"evaluate_property",value:function(e,t){var n=e.expression,a=this.evaluate(n,t);if("failed"===a.execution_result)return Q(++this.value_counter_ref.current);var r=a.value,s=e.property_identifier.value;return this.access_object_property(r,s)}},{key:"evaluate_access_by_index_expression",value:function(e,t){var n=this.evaluate(e.expression,t);if("failed"===n.execution_result)return Q(++this.value_counter_ref.current);var a=n.value,r=e.index,s=this.evaluate(r,t);if("failed"===s.execution_result)return Q(++this.value_counter_ref.current);var i=s.value;if("number"!==i.type&&"string"!==i.type)return Q(++this.value_counter_ref.current);var o=(i.type,i.value);return this.options.on_index_evaluation&&this.options.on_index_evaluation(e,o),this.access_object_property(a,o)}},{key:"evaluate_constant",value:function(e,t){var n=e.token,a=n.value,r=a,s="string",i=null;if("string"===n.type)r=a.slice(1,-1),i={id:++this.value_counter_ref.current,type:s,value:r};else if("number"===n.type){if(function(e){return""!==e&&!isNaN(Number(e))}(r))s="number",r=parseFloat(a),i={id:++this.value_counter_ref.current,type:s,value:r}}else if("true"===n.type||"false"===n.type){s="boolean",r="true"===n.value,i={id:++this.value_counter_ref.current,type:s,value:r}}return i?{execution_result:"complete",value:i}:Q(++this.value_counter_ref.current)}},{key:"evaluate_identifier",value:function(e,t){var n=t.get_variable(e.token.value);return n?{execution_result:"complete",value:n.value}:Q(++this.value_counter_ref.current)}},{key:"evaluate_binary",value:function(e,t){var n=e.operator.value;if("="===n)return this.evaluate_assignment(e.left,e.right,t);var a=null,r=this.evaluate(e.left,t);if("failed"==r.execution_result)return Q(++this.value_counter_ref.current);var s=this.evaluate(e.right,t);if("failed"==s.execution_result)return Q(++this.value_counter_ref.current);var i=r.value,o=s.value;if(!i||!o)return Q(++this.value_counter_ref.current);var l=i.type;try{switch(n){case"+":if("number"===i.type&&"number"===o.type)a=parseFloat(null===i||void 0===i?void 0:i.value)+parseFloat(null===o||void 0===o?void 0:o.value);else if("string"===i.type||"string"===o.type){a=(null===i||void 0===i?void 0:i.value)+(null===o||void 0===o?void 0:o.value),l="string"}break;case"-":a=parseFloat(null===i||void 0===i?void 0:i.value)-parseFloat(null===o||void 0===o?void 0:o.value),a=parseFloat(a);break;case"*":a=parseFloat(null===i||void 0===i?void 0:i.value)*parseFloat(null===o||void 0===o?void 0:o.value),a=parseFloat(a);break;case"/":a=parseFloat(null===i||void 0===i?void 0:i.value)/parseFloat(null===o||void 0===o?void 0:o.value),a=parseFloat(a);break;case"<":a=parseFloat(null===i||void 0===i?void 0:i.value)<parseFloat(null===o||void 0===o?void 0:o.value),l="boolean";break;case">":a=parseFloat(null===i||void 0===i?void 0:i.value)>parseFloat(null===o||void 0===o?void 0:o.value),l="boolean";break;case"==":a=(null===i||void 0===i?void 0:i.value)==(null===o||void 0===o?void 0:o.value),l="boolean";break;case"!=":a=(null===i||void 0===i?void 0:i.value)!=(null===o||void 0===o?void 0:o.value),l="boolean";break;case"&&":a=(null===i||void 0===i?void 0:i.value)&&(null===o||void 0===o?void 0:o.value),l="boolean";break;case"||":a=(null===i||void 0===i?void 0:i.value)||(null===o||void 0===o?void 0:o.value),l="boolean"}}catch(c){return console.error(c),Q(++this.value_counter_ref.current)}return{execution_result:"complete",value:{id:++this.value_counter_ref.current,type:l,value:a}}}}]),e}(),ne=n(18);function ae(e){return"evaluation"===e.change_type}function re(e){return"execution_start"===e.change_type}function se(e){return"after_function_retake"===e.change_type}function ie(e){return"new_scope"===e.change_type}function oe(e){return"scope_end"===e.change_type}function le(e){return"scope_change"===e.change_type}function ce(e){return"add_to_scope"===e.change_type}function ue(e){return"assignment"===e.change_type}function pe(e){return"index_evaluation"===e.change_type}function _e(e){return"value_update"===e.change_type}function de(e){return"before_function_call"===e.change_type}function me(e,t){e.getElementsByClassName("current-scope")[0].appendChild(t)}var fe=n(12),ve=n.n(fe);function he(e,t){var n=document.createElement("span");return n.className="token cm-"+t,n.innerHTML=e,n}function ye(e){var t=e;if(E(e)){var n=e.value;return e.value?he(n,"true"):he(n,"false")}if(C(t))return he('"'+t.value+'"',"string");if(O(t))return he(t.value.toString(),"number");if(x(e))return he("[...]","none");if(k(e))return he("{...}","none");if(w(e))return he("undefined","none");if(j(t)){var a=document.createElement("span");a.appendChild(he("&#x192;","symbol")),a.appendChild(he("(","symbol")),a.appendChild(he("...","none"));t.value.function.parameters_list.list;return a.appendChild(he(")","symbol")),a}return he("short_non_represented","error")}var be=n(31),ge=(n(47),n(48),'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="svg-font" viewBox="0 0 32 32">\n<title>eye</title>\n<path d="M16 6c-6.979 0-13.028 4.064-16 10 2.972 5.936 9.021 10 16 10s13.027-4.064 16-10c-2.972-5.936-9.021-10-16-10zM23.889 11.303c1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303s-5.527-0.796-7.889-2.303c-1.88-1.199-3.473-2.805-4.67-4.697 1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 4.418 3.582 8 8 8s8-3.582 8-8c0-0.962-0.17-1.883-0.482-2.737 0.124 0.074 0.248 0.15 0.371 0.228v0zM16 13c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z"></path>\n</svg>');function xe(e){var t=e.token,n=["token"];return n.push("cm-"+t.type),r.a.createElement("span",{className:n.join(" ")},e.token.value)}var ke=function e(t){var n=0;function a(t){if(!t)return null;var s=t.id?t.id:n++;if(t.types)return r.a.createElement(e,{ast_object:t,key:s});if(t.value)return r.a.createElement(xe,{token:t,key:s});if(Array.isArray(t)){var i=[];console.warn("array_child:",t);for(var o=0;o<t.length;o++){var l=t[o];i.push(a(l))}return i}return"!"}var s=[];try{s.push("ast-object-"+t.ast_object.id)}catch(l){console.error("catched props of ASTComponent",t)}for(var i=0;i<t.ast_object.types.length;i++){var o=t.ast_object.types[i];s.push(o)}return r.a.createElement("span",{key:t.ast_object.id,className:s.join(" ")},function(){var e=t.ast_object.children,n=[];if(e.length>0)for(var r=0;r<e.length;r++){var s=e[r];n.push(a(s))}return n}())};function we(e,t){var n=document.createElement("div");if(n.classList.add("expanded-value"),n.classList.add("nice-scroll-bar"),x(e))n.appendChild(function(e,t){var n=document.createElement("div");n.classList.add("expanded-array"),n.style.zIndex=t.toString();for(var a=0;a<e.value.length;a++){var r=e.value[a],s=document.createElement("div");s.innerHTML=a.toString(),s.classList.add("key-element"),s.classList.add("number-key");var i=Ee(r).element;i.classList.add("value-element");var o=document.createElement("div");o.classList.add("item-element"),o.classList.add("item-element-"+a),o.appendChild(s),o.appendChild(i),n.appendChild(o)}return n}(e,t));else if(k(e))n.appendChild(function(e,t){var n=document.createElement("div");n.classList.add("expanded-oject"),n.style.zIndex=t.toString();for(var a=Object.keys(e.value),r=0;r<a.length;r++){var s=a[r],i=e.value[s],o=document.createElement("div");o.innerHTML=s,o.classList.add("key-element"),o.classList.add("string-key");var l=Ee(i).element;l.classList.add("value-element");var c=document.createElement("div");c.classList.add("item-element"),c.classList.add("item-element-"+s),c.appendChild(o),c.appendChild(l),n.appendChild(c)}return n}(e,t));else{if(!j(e)){var a=document.createElement("div");return a.innerHTML="not expandable expression value",a}n.appendChild(function(e,t){var n=document.createElement("div");n.classList.add("expanded-function");var a=document.createElement("pre");a.classList.add("code"),n.appendChild(a);var r=e.value.function,s=ve.a.renderToString(ke({ast_object:r}));return a.innerHTML=s,n}(e))}return n}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createElement("span");n.classList.add("scope-value"),n.classList.add("scope-value-"+e.id);var a=e;a?n.appendChild(ye(a)):n.innerHTML="undefined???";var r=null;if(x(a)||k(a)||j(a)){var s=document.createElement("div");s.innerHTML=ge,s.classList.add("value-expand-trigger"),n.appendChild(s);var i=we(a,t+1);n.classList.add("collapsed");var o=Object(be.a)(n,{content:i,trigger:"manual",placement:"bottom",theme:"expanded-value",arrow:!0,interactive:!0,appendTo:document.body}),l=function(){n.classList.remove("collapsed"),n.classList.add("expanded"),o.show()},c=function(){n.classList.add("collapsed"),n.classList.remove("expanded"),o.hide()};s.addEventListener("click",(function(){l()})),r={expand:l,collapse:c,expanded_element:i}}return{triggers:r,element:n}}function je(e){var t=e.name,n=document.createElement("div");n.classList.add("scope-var"),n.classList.add("scope-var-"+t),n.classList.add("scope-var-id-"+e.id);var a=document.createElement("span");a.classList.add("scope-identifier"),a.innerHTML=t;var r=document.createElement("span");r.classList.add("scope-equal-sign"),r.innerHTML=" = ";var s=Ee(e.value).element;return n.appendChild(a),n.appendChild(r),n.appendChild(s),n}var Oe=n(4);function Ce(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{y:t.top+a,x:t.left+n}}function Ne(e,t,n,a){return Le.apply(this,arguments)}function Le(){return(Le=Object(v.a)(f.a.mark((function e(t,n,a,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var s=Ce(t),i=Ce(a);document.body.appendChild(n);var o=n;o.style.opacity="0",o.style.position="absolute";var l=n.getBoundingClientRect(),c=(t.getBoundingClientRect(),a.getBoundingClientRect()),u=s.x,p=s.y,_=i.x+(c.width-l.width)/2,d=i.y+(c.height-l.height)/2;o.style.left="".concat(u,"px"),o.style.top="".concat(p,"px");var m=Oe.a.timeline({onComplete:e});m.to(n,{duration:r/2e3,opacity:1}),m.to(n,{duration:r/1e3,left:_,top:d})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(v.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getElementsByClassName("current-scope")[0],a.getElementsByClassName("scope-var-id-"+n)[0].remove();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=n(66);function Te(e,t,n){var a=t,r=e.offsetTop-a.offsetTop-a.clientHeight/2,s=r-a.scrollTop,i=n*Math.abs(s)/1e5;return new Promise((function(e){Oe.a.timeline({onComplete:e}).to(a,{duration:i,scrollTo:r})}))}function ze(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(v.a)(f.a.mark((function e(t,n){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,r=t.cloneNode(!0),a.after(r),s=a.getBoundingClientRect().height,a.remove(),r.style.height="0px",r.style.overflow="hidden",e.next=9,Oe.a.to(r,{duration:n/1e3,height:s});case 9:r.after(a),r.remove();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Oe.a.registerPlugin(Me.a);var Se=function(e,t,n,a){var r=t.last_state_change,s=r.details.variable;return{name:"add to scope",animate:function(){var e=Object(v.a)(f.a.mark((function e(t){var i,o,l,c,u,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=je(s),o=n.getElementsByClassName("ast-object-"+r.details.ast_origin.id)[0],(l=document.createElement("div")).classList.add("drag-to-scope"),l.appendChild(i),c=a.getElementsByClassName("current-scope")[0],(u=document.createElement("div")).classList.add("scope-var"),u.classList.add("dummy-scope-var"),u.innerHTML="&nbsp;",c.appendChild(u),e.next=13,ze(u,t);case 13:return p=a.getElementsByClassName("scrollable-y")[0],e.next=16,Promise.all([Te(o,n,t),Te(c.lastElementChild?c.lastElementChild:c,p,t)]);case 16:return e.next=18,Ne(o,l,u,t);case 18:return l.remove(),u.remove(),e.next=22,me(a,i);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rollback:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(a,s.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function He(e,t){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect();return{top:a.top-n.top,left:a.left-n.left,width:a.width,height:a.height}}function $e(e,t,n,a){return new Promise((function(r){t.innerHTML=t.innerHTML;var s=He(t,e),i=document.createElement("span");i.classList.add("view-blocker"),e.appendChild(i);var o=Oe.a.timeline();o.set(i,Object(c.a)(Object(c.a)({},s),{},{opacity:0})),o.to(i,{duration:a/2e3,opacity:1,onComplete:function(){t.style.opacity="0";var s,o=Oe.a.timeline({onComplete:function(){i.remove(),r()}}),l=t.innerHTML;t.innerHTML="";var u=n.cloneNode(!0);u.style.opacity="0",t.after(u),s=He(u,e),u.remove(),t.innerHTML=l,o.to(i,Object(c.a)(Object(c.a)({duration:a/2e3},s||{}),{},{onComplete:function(){t.innerHTML="",t.after(n),t.remove()}})),o.to(i,{duration:a/2e3,opacity:0})}})}))}function Fe(e,t){var n=document.createElement("div"),a=ve.a.renderToString(ke({ast_object:e}));n.innerHTML=a;for(var r=n.firstChild,s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],l=Number(o),c=n.getElementsByClassName("ast-object-"+l);if(c.length>0){var u=c[0];u.innerHTML="";var p=t[l].expand_struct;u.appendChild(p.element)}}return r}var Ie=function(e,t,n,a){var r=t.last_state_change;function s(){return(s=Object(v.a)(f.a.mark((function e(t){var a,s,i,o,l,c,u,p,_,d,m,v,h,y,b,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.details.function,s=n.getElementsByClassName("ast-object-"+a.id)[0],i=Fe(a,{}),e.next=5,Te(s,n,t);case 5:return e.next=7,$e(n,s,i,t);case 7:for(o=a.parameters_list.list,l=[],c=[],u=0;u<r.details.parameter_values.length;u++)p=r.details.parameter_values[u],_=Ee(p).element,(d=o[u]).optional_assignment_fragment?(m=d.optional_assignment_fragment.value.id,v=n.getElementsByClassName("ast-object-"+m)[0],c.push(Te(v,n,t)),l.push($e(n,v,_,t))):(h=n.getElementsByClassName("ast-object-"+d.id)[0],y=document.createElement("span"),h.appendChild(y),b=document.createElement("span"),g=he("=","binary_op"),b.appendChild(g),b.appendChild(_),c.push(Te(y,n,t)),l.push($e(n,y,b,t)));return e.next=13,c[0];case 13:return e.next=15,Promise.all(l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{name:"evaluation replacement",animate:function(e){return s.apply(this,arguments)},rollback:function(e){return i.apply(this,arguments)}}};function Ae(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lowlighted",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",s=e.children;if(e instanceof SVGElement)"add"===r?null===(t=e.parentElement)||void 0===t||t.classList.add(a):null===(n=e.parentElement)||void 0===n||n.classList.remove(a);else if(0===s.length)"add"===r?e.classList.add(a):e.classList.remove(a);else for(var i=0;i<s.length;i++){var o=s[i];Ae(o,a,r)}}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"highlight";"highlight"===t?(Ae(e,"lowlighted","remove"),Ae(e,"highlighted")):(Ae(e,"lowlighted"),Ae(e,"highlighted","remove"))}function De(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{y:t.top+a,x:t.left+n}}function Ze(e,t){var n=De(e),a=De(t);return{x:n.x-a.x,y:n.y-a.y}}function Ue(e,t,n,a){return new Promise(function(){var r=Object(v.a)(f.a.mark((function r(s){var i,o,l,c,u,p,_,d,m,v;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.get_variable(e),o=n.getElementsByClassName("scrollable-y")[0],!i){r.next=21;break}return l=i.id,c=o.getElementsByClassName("scope-var-id-"+l)[0],r.next=7,Te(c,o,a);case 7:u=o.getElementsByClassName("scopes-fullheight-wrapper")[0],p=u.getBoundingClientRect(),_=Ze(c,u),(d=document.createElement("div")).innerHTML='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   inkscape:version="1.0 (4035a4fb49, 2020-05-01)"\n   sodipodi:docname="search.svg"\n   xml:space="preserve"\n   style="enable-background:new 0 0 512 512;"\n   viewBox="0 0 512 512"\n   y="0px"\n   x="0px"\n   id="Capa_1"\n   version="1.1"><metadata\n   id="metadata59"><rdf:RDF><cc:Work\n       rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type\n         rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\n   id="defs57" /><sodipodi:namedview\n   inkscape:current-layer="Capa_1"\n   inkscape:window-maximized="1"\n   inkscape:window-y="-8"\n   inkscape:window-x="-8"\n   inkscape:cy="143.98069"\n   inkscape:cx="256"\n   inkscape:zoom="1.0507812"\n   inkscape:pagecheckerboard="true"\n   showgrid="false"\n   id="namedview55"\n   inkscape:window-height="705"\n   inkscape:window-width="1366"\n   inkscape:pageshadow="2"\n   inkscape:pageopacity="0"\n   guidetolerance="10"\n   gridtolerance="10"\n   objecttolerance="10"\n   borderopacity="1"\n   bordercolor="#666666"\n   pagecolor="#ffffff"><inkscape:grid\n     id="grid884"\n     type="xygrid" /></sodipodi:namedview>\n<path\n   id="path2"\n   d="m 0,471.273 v 0 C 0,493.382 18.618,512 40.727,512 v 0 c 11.636,0 22.109,-4.655 30.255,-12.8 L 201.309,357.236 c 4.655,-4.655 4.655,-11.636 0,-16.291 L 171.054,310.69 c -4.655,-4.655 -11.636,-4.655 -16.291,0 L 12.8,442.182 C 4.655,449.164 0,460.8 0,471.273 Z"\n   style="fill:#b06328" />\n<rect\n   id="rect4"\n   height="48.871532"\n   width="32.580688"\n   style="fill:#b0c4d8;stroke-width:0.99999"\n   transform="matrix(0.70710678,0.70710678,0.70710678,-0.70710678,0,0)"\n   y="-98.485909"\n   x="345.75119" />\n<path\n   id="path6"\n   d="m 192,320 -5.818,5.818 -11.636,-11.636 34.909,-34.909 23.273,23.273 L 215.273,320 v 0 c -6.982,-6.982 -16.291,-6.982 -23.273,0 z"\n   style="fill:#99b4cd" />\n<path\n   id="path8"\n   d="M 337.455,0 C 434.036,0 512,77.964 512,174.545 512,271.126 434.036,349.09 337.455,349.09 240.874,349.09 162.91,271.126 162.91,174.545 162.91,77.964 240.873,0 337.455,0 Z m 0,314.182 c 76.8,0 139.636,-62.836 139.636,-139.636 0,-76.8 -62.836,-139.637 -139.636,-139.637 -76.8,0 -139.636,62.836 -139.636,139.636 0,76.8 62.836,139.637 139.636,139.637 z"\n   style="fill:#c4d7e5" />\n\n<path\n   id="path12"\n   d="m 406.109,190.836 c -5.818,-44.218 -40.727,-79.127 -84.945,-84.945 H 320 c -19.782,-2.327 -20.945,-30.255 -2.327,-33.745 11.636,-2.327 23.273,-2.327 34.909,-1.164 45.382,6.982 81.455,43.055 87.273,87.273 2.327,11.636 1.164,24.436 -1.164,34.909 -3.491,19.782 -31.418,17.455 -33.745,-2.327 1.163,1.163 1.163,-10e-4 1.163,-10e-4 z"\n   style="opacity:0.622581;fill:#ffffff;fill-opacity:1" />\n\n<path\n   id="path16"\n   d="m 337.455,349.091 v 0 c -96.582,0 -174.545,-77.964 -174.545,-174.545 v 0 c 5.818,0 11.636,4.655 11.636,11.636 2.327,39.564 19.782,75.636 46.545,102.4 26.764,27.927 64,45.382 104.727,48.873 6.982,0 11.637,5.818 11.637,11.636 z"\n   style="fill:#b0c9db" />\n<path\n   id="path18"\n   d="M 337.455,0 V 0 C 434.036,0 512,77.964 512,174.545 v 0 c -5.818,0 -11.636,-4.655 -11.636,-11.636 C 498.036,124.509 481.745,89.6 457.309,64 429.382,34.909 390.982,15.127 349.091,11.636 342.109,11.636 337.455,5.818 337.455,0 Z"\n   style="fill:#e2e7f0" />\n<path\n   id="path20"\n   d="m 13.964,441.018 6.982,-5.818 c -5.818,6.982 -9.309,16.291 -9.309,25.6 v 0 c 0,15.127 18.618,20.945 29.091,10.473 L 162.909,349.091 c 6.982,-6.982 17.455,-6.982 24.436,0 l 11.636,11.636 -126.836,136.145 c -6.982,6.982 -16.291,12.8 -25.6,13.964 C 33.745,512 20.945,507.345 12.8,499.2 4.655,491.055 0,478.255 1.164,465.455 c 0,-9.31 5.818,-17.455 12.8,-24.437 z"\n   style="fill:#a35425" />\n<path\n   id="path22"\n   d="m 133.818,360.727 c 1.164,0 3.491,0 4.655,-1.164 l 29.091,-29.091 c 2.327,-2.327 2.327,-5.818 0,-8.145 -2.327,-2.327 -5.818,-2.327 -8.145,0 l -29.091,29.091 c -2.327,2.327 -2.327,5.818 0,8.145 -0.001,1.164 2.327,1.164 3.49,1.164 z"\n   style="fill:#c97629" />\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g24">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g26">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g28">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g30">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g32">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g34">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g36">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g38">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g40">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g42">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g44">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g46">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g48">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g50">\n</g>\n<g\n   transform="matrix(-1,0,0,1,512,0)"\n   id="g52">\n</g>\n</svg>',d.classList.add("search-icon"),u.appendChild(d),m=d.getBoundingClientRect().height,d.style.display="none",Oe.a.set(d,{y:p.height-m,top:0,left:0,opacity:0,display:"block"}),(v=Oe.a.timeline({onComplete:function(){qe(o,"lowlight"),qe(c),setTimeout((function(){d.remove(),qe(o),s()}),a)}})).to(d,{duration:a/3e3,opacity:1}),v.to(d,{duration:a/1e3,y:_.y}),v.to(d,{duration:a/3e3,opacity:0});case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function Xe(e){var t=e.getElementsByClassName("current-scope")[0],n=document.createElement("div");return n.classList.add("current-scope"),n.classList.add("scope"),t.appendChild(n),t.classList.remove("current-scope"),n}function Ve(e,t){var n=e.scope,a=t.getElementsByClassName("main-scope")[0];if(a.classList.add("current-scope"),a.innerHTML="",n){var r,s=Object(y.a)(n.scopes_list);try{for(s.s();!(r=s.n()).done;){var i=r.value;Xe(t);for(var o=0,l=Object.keys(i.scoped_variables);o<l.length;o++){var c=l[o];me(t,je(i.get_variable(c)))}}}catch(u){s.e(u)}finally{s.f()}}}function We(e,t,n){!function(e,t){var n=e.expression_value_replacements,a=e.ast_program,r=t.getElementsByClassName("code")[0],s=r||t;if(a){var i=Fe(a,n);s.innerHTML="",console.log(n),s.appendChild(i)}}(e,t),Ve(e,n)}function Ge(e,t,n){return new Promise((function(n){var a=e.getElementsByClassName("ast-object-"+t)[0];qe(e,"lowlight"),qe(a),n()}))}var Je=function(e,t,n,a){if(!t.last_state_change)return null;if(!ae(t.last_state_change))return null;var r=t.last_state_change.details.evaluated_ast,s=r.id;function i(){return(i=Object(v.a)(f.a.mark((function e(i){var o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=n.getElementsByClassName("ast-object-"+s)[0]).innerHTML=o.innerHTML,l=Fe(r,t.expression_value_replacements),e.next=5,Te(o,n,i);case 5:if(!D(r)){e.next=8;break}return e.next=8,Ue(r.token.value,t.scope,a,i);case 8:return e.next=10,$e(n,o,l,i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(v.a)(f.a.mark((function t(r){var s,i,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(We(e,n,a),!(e.highlighted_ast_ids.length>0)){t.next=22;break}s=Object(y.a)(e.highlighted_ast_ids),t.prev=3,s.s();case 5:if((i=s.n()).done){t.next=14;break}return o=i.value,l=n.getElementsByClassName("ast-object-"+o)[0],t.next=10,Te(l,n,r);case 10:return t.next=12,Ge(n,o);case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),s.e(t.t0);case 19:return t.prev=19,s.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))).apply(this,arguments)}return{name:"evaluation replacement",animate:function(e){return i.apply(this,arguments)},rollback:function(e){return o.apply(this,arguments)}}};function Ye(e){var t=e.getElementsByClassName("current-scope")[0];t.parentElement.classList.add("current-scope"),t.remove()}var Ke=function(e,t,n,a){function r(){return(r=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe(a),e.next=3,ze(n,t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{name:"new scope",animate:function(e){return r.apply(this,arguments)},rollback:function(e){return s.apply(this,arguments)}}},Qe=function(e,t,n,a){var r=t.last_state_change;function s(){return(s=Object(v.a)(f.a.mark((function e(t){var a,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.details.for_ast,s=n.getElementsByClassName("ast-object-"+a.id)[0],i=Fe(a,{}),e.next=5,Te(s,n,t);case 5:return e.next=7,$e(n,s,i,t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{name:"evaluation replacement",animate:function(e){return s.apply(this,arguments)},rollback:function(e){return i.apply(this,arguments)}}};function et(e,t){return Oe.a.set(e,{opacity:0}),new Promise((function(n){Oe.a.to(e,{duration:t/1e3,opacity:1,onComplete:n})}))}function tt(e,t){return Oe.a.set(e,{opacity:1}),new Promise((function(n){Oe.a.to(e,{duration:t/1e3,opacity:0,onComplete:n})}))}var nt=function(e,t){return new Promise((function(n){Oe.a.to(e,{duration:t/1e3,right:"-100%",onComplete:n})}))};var at=function(e,t){return new Promise((function(n){Oe.a.to(e,{duration:t/1e3,right:70,onComplete:n})}))},rt=function(e,t,n,a){return{name:"show scope",animate:function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.getElementsByClassName("current-scope")[0]).style.opacity="0",e.next=4,at(a,t);case 4:return e.next=6,et(n,t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rollback:function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getElementsByClassName("current-scope")[0],e.next=3,nt(a,t);case 3:return e.next=5,tt(n,t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},st=function(e,t,n,a){return{name:"hide scope",animate:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(n),e.next=3,nt(a,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rollback:function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(a,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};function it(e){console.log("clearing_highlights in",e);for(var t=document.getElementsByClassName("highlighted");t.length;)t[0].classList.remove("highlighted");for(var n=document.getElementsByClassName("lowlighted");n.length;)n[0].classList.remove("lowlighted")}var ot=function(e,t,n,a){var r=t.last_state_change.details;function s(){return(s=Object(v.a)(f.a.mark((function e(t){var s,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.getElementsByClassName("scope-var-id-"+r.variable.id)[0],i=je(r.variable),o=s.getElementsByClassName("scope-value")[0],l=i.getElementsByClassName("scope-value")[0],console.log({variable_value_emt:o},{new_content:l}),e.next=7,Promise.all([Ge(n,r.ast_origin.id),$e(a.getElementsByClassName("scrollable-y")[0],o,l,t)]);case 7:qe(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(v.a)(f.a.mark((function t(s){var i,o,l,c,u,p,_,d,m;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.getElementsByClassName("scope-var-id-"+r.variable.id)[0],o=e.scope.get_variable(r.variable.name),l=je(o),c=i.getElementsByClassName("scope-value")[0],u=l.getElementsByClassName("scope-value")[0],console.log({variable_value_emt:c},{new_content:u}),t.next=8,$e(a.getElementsByClassName("scrollable-y")[0],c,u,s);case 8:if(it(n),!(e.highlighted_ast_ids.length>0)){t.next=30;break}p=Object(y.a)(e.highlighted_ast_ids),t.prev=11,p.s();case 13:if((_=p.n()).done){t.next=22;break}return d=_.value,m=n.getElementsByClassName("ast-object-"+d)[0],t.next=18,Te(m,n,s);case 18:return t.next=20,Ge(n,d);case 20:t.next=13;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(11),p.e(t.t0);case 27:return t.prev=27,p.f(),t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[11,24,27,30]])})))).apply(this,arguments)}return{name:"variable assignment",animate:function(e){return s.apply(this,arguments)},rollback:function(e){return i.apply(this,arguments)}}},lt=function(e,t,n,a){var r=t.last_state_change;function s(){return(s=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{name:"property search",animate:function(e){return new Promise((function(n){var a=r.details.access_by_index_expression,s=t.expression_value_replacements[a.expression.id].expand_struct.triggers,i=r.details.index_value;if(s){s.expand();var o=s.expanded_element.getElementsByClassName("item-element-"+i)[0];setTimeout((function(){qe(s.expanded_element,"lowlight"),setTimeout((function(){qe(o),setTimeout((function(){s.collapse(),qe(s.expanded_element),n()}),e/1.5)}),e/3)}),e/3)}}))},rollback:function(e){return s.apply(this,arguments)}}},ct=function(e,t,n,a){var r=t.last_state_change.details;function s(){return(s=Object(v.a)(f.a.mark((function e(t){var n,s,i,o,l,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=r.expression_value,s=Array.from(a.getElementsByClassName("scope-value-"+n.id)),console.log({value_elements_to_update:s},"scope-value-"+n.id),i=[],o=0,l=s;o<l.length;o++)c=l[o],u=Ee(n),console.log({el:c}),console.log({"scope_parent:":c.parentElement}),i.push($e(a,c,u.element,t));return e.next=7,Promise.all(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(v.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:We(e,n,a);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{name:"value update",animate:function(e){return s.apply(this,arguments)},rollback:function(e){return i.apply(this,arguments)}}};function ut(e){var t=e.filter((function(e){return e}));if(0==t.length)return null;for(var n=[],a=[],r=0;r<e.length;r++){var s=e[r];s&&n.push(s.animate)}for(var i=e.length-1;i>=0;i--){var o=e[i];o&&a.push(o.rollback)}return{name:t.map((function(e){return e.name})).join(", "),animate:function(){var e=Object(v.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<n.length)){e.next=8;break}return r=n[a],e.next=5,r(t);case 5:a++,e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rollback:function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<a.length)){e.next=8;break}return r=a[n],e.next=5,r(t);case 5:n++,e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var pt=function(e,t,n,a){var r=t.last_state_change.details;function s(){return(s=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getElementsByClassName("ast-object-"+r.ast_statement.id)[0],e.next=3,Te(a,n,t);case 3:return e.next=5,Ge(n,r.ast_statement.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(v.a)(f.a.mark((function t(a){var r,s,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(it(n),!(e.highlighted_ast_ids.length>0)){t.next=22;break}r=Object(y.a)(e.highlighted_ast_ids),t.prev=3,r.s();case 5:if((s=r.n()).done){t.next=14;break}return i=s.value,o=n.getElementsByClassName("ast-object-"+i)[0],t.next=10,Te(o,n,a);case 10:return t.next=12,Ge(n,i);case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))).apply(this,arguments)}return{name:"execution start",animate:function(e){return s.apply(this,arguments)},rollback:function(e){return i.apply(this,arguments)}}};function _t(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(v.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,r=t.cloneNode(!0),a.after(r),a.remove(),r.style.overflow="hidden",e.next=7,Oe.a.to(r,{duration:n/1e3,height:0});case 7:r.after(a),r.remove();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=function(e,t,n,a){function r(){return(r=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getElementsByClassName("current-scope")[0],e.next=3,_t(n,t);case 3:Ye(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{name:"scope end",animate:function(e){return r.apply(this,arguments)},rollback:function(e){return s.apply(this,arguments)}}},ft=function(e,t,n,a){function r(){return(r=Object(v.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t(a,n);case 2:return Ve(t,a),e.next=5,ze(a,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ve(e,a);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{name:"scope change",animate:function(e){return r.apply(this,arguments)},rollback:function(e){return s.apply(this,arguments)}}},vt=function(e,t,n,a){t.last_state_change;function r(){return(r=Object(v.a)(f.a.mark((function a(r){var s,i,o,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,it(n);case 2:if(!(e.highlighted_ast_ids.length>0)){a.next=23;break}s=Object(y.a)(t.highlighted_ast_ids),a.prev=4,s.s();case 6:if((i=s.n()).done){a.next=15;break}return o=i.value,l=n.getElementsByClassName("ast-object-"+o)[0],a.next=11,Te(l,n,r);case 11:return a.next=13,Ge(n,o);case 13:a.next=6;break;case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(4),s.e(a.t0);case 20:return a.prev=20,s.f(),a.finish(20);case 23:case"end":return a.stop()}}),a,null,[[4,17,20,23]])})))).apply(this,arguments)}function s(){return(s=Object(v.a)(f.a.mark((function t(a){var r,s,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(it(n),!(e.highlighted_ast_ids.length>0)){t.next=22;break}r=Object(y.a)(e.highlighted_ast_ids),t.prev=3,r.s();case 5:if((s=r.n()).done){t.next=14;break}return i=s.value,o=n.getElementsByClassName("ast-object-"+i)[0],t.next=10,Te(o,n,a);case 10:return t.next=12,Ge(n,i);case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))).apply(this,arguments)}return{name:"retake after function",animate:function(e){return r.apply(this,arguments)},rollback:function(e){return s.apply(this,arguments)}}};var ht=function(){function e(t,n){Object(b.a)(this,e),this.code_scroller=void 0,this.code_container=void 0,this.scope_container=void 0,this.original_contents_dictionary=void 0,this.unfiltered_animation_steps=void 0,this.animations_enabled_flag=void 0,this.ids_to_skip_replacement=void 0,this.highlighted_ids_before_call=void 0,this.animation_states=void 0,this.code_scroller=t,this.code_container=t.getElementsByClassName("code")[0],this.scope_container=n,this.original_contents_dictionary={},this.unfiltered_animation_steps=[],this.animations_enabled_flag=!0,this.ids_to_skip_replacement=[],this.highlighted_ids_before_call=[];this.animation_states=[{ast_program:null,last_state_change:null,scope:null,expression_value_replacements:{},highlighted_ast_ids:[]}]}return Object(g.a)(e,[{key:"skip_replacement",value:function(e){this.ids_to_skip_replacement.includes(e)||this.ids_to_skip_replacement.push(e)}},{key:"push_state",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.a)(Object(c.a)({},this.get_last_state()),{},{last_state_change:e},t);this.animation_states.push(n)}},{key:"get_last_state",value:function(){return this.animation_states.slice(-1)[0]}},{key:"remove_replacements",value:function(e){var t,n=this.get_last_state().expression_value_replacements,a=Object(c.a)({},n),r=Object(y.a)(e);try{for(r.s();!(t=r.n()).done;){delete a[t.value]}}catch(s){r.e(s)}finally{r.f()}return a}},{key:"mix_replacements",value:function(e){var t=this.get_last_state().expression_value_replacements;return Object(c.a)(Object(c.a)({},t),e)}},{key:"push_step",value:function(e){this.animations_enabled_flag&&this.unfiltered_animation_steps.push(e)}},{key:"get_ast_component",value:function(e){return this.code_container.getElementsByClassName("ast-object-"+e)[0]}},{key:"save_original_content",value:function(e){if(void 0!==e.id){var t=e.id;t in this.original_contents_dictionary||(this.original_contents_dictionary[t]=this.get_ast_component(e.id).innerHTML)}}},{key:"on_program_start",value:function(e,t){var n={ast_program:e};this.push_state({change_type:"program_start",details:{}},n)}},{key:"on_before_execution",value:function(e,t){this.save_original_content(e);var n={change_type:"execution_start",details:{ast_statement:e}},a={highlighted_ast_ids:[e.id]};this.push_state(n,a)}},{key:"on_after_execution",value:function(e,t){}},{key:"on_before_evaluation",value:function(e,t){this.save_original_content(e)}},{key:"on_after_evaluation",value:function(e,t,n){if((!A(e)||"="!==e.operator.value)&&!U(e)&&!Z(e)&&!n.is_internal){var a=e.id,r={change_type:"evaluation",details:{evaluated_ast:e,returned_value:n}},s={scope:t,expression_value_replacements:this.mix_replacements(Object(ne.a)({},a,{expression_value:n,expand_struct:Ee(n)}))};this.push_state(r,s)}}},{key:"on_before_for_loop",value:function(e){var t={change_type:"for loop restoration",details:{for_ast:e}},n={expression_value_replacements:this.remove_replacements(K(e))};this.push_state(t,n)}},{key:"on_variable_declaration",value:function(e,t,n){var a={change_type:"add_to_scope",details:{variable:t,ast_origin:e}},r={scope:n};this.push_state(a,r)}},{key:"on_assignment",value:function(e,t,n){var a={change_type:"assignment",details:{variable:t,ast_origin:e}},r={scope:n};this.push_state(a,r)}},{key:"on_index_evaluation",value:function(e,t){var n={change_type:"index_evaluation",details:{access_by_index_expression:e,index_value:t}};this.push_state(n)}},{key:"on_value_update",value:function(e){var t={change_type:"value_update",details:{expression_value:e}};this.push_state(t)}},{key:"on_after_if_condition_eval",value:function(){}},{key:"on_before_function_call",value:function(e,t,n){var a={change_type:"before_function_call",details:{function:e,expression_call:t,parameter_values:n}};this.highlighted_ids_before_call=Object(B.a)(this.get_last_state().highlighted_ast_ids);var r=this.get_last_state().expression_value_replacements,s=K(e),i=this.remove_replacements(s);console.log({old_replacements:r,ids_to_remove:s,new_replacements:i});var o={expression_value_replacements:i};this.push_state(a,o)}},{key:"on_function_call",value:function(e){var t={highlighted_ast_ids:this.highlighted_ids_before_call};this.push_state({change_type:"after_function_retake",details:{}},t)}},{key:"on_new_scope",value:function(e){var t={scope:e};this.push_state({change_type:"new_scope",details:{}},t)}},{key:"on_scope_end",value:function(e){var t={scope:e};this.push_state({change_type:"scope_end",details:{}},t)}},{key:"on_scope_change",value:function(e){var t={scope:e};this.push_state({change_type:"scope_change",details:{}},t)}},{key:"get_callbacks_dictionary",value:function(){return{on_program_start:this.on_program_start.bind(this),on_before_execution:this.on_before_execution.bind(this),on_after_execution:this.on_after_execution.bind(this),on_before_evaluation:this.on_before_evaluation.bind(this),on_after_evaluation:this.on_after_evaluation.bind(this),on_before_for_loop:this.on_before_for_loop.bind(this),on_variable_declaration:this.on_variable_declaration.bind(this),on_after_if_condition_eval:this.on_after_if_condition_eval.bind(this),on_assignment:this.on_assignment.bind(this),on_index_evaluation:this.on_index_evaluation.bind(this),on_value_update:this.on_value_update.bind(this),on_function_call:this.on_function_call.bind(this),on_before_function_call:this.on_before_function_call.bind(this),on_new_scope:this.on_new_scope.bind(this),on_scope_end:this.on_scope_end.bind(this),on_scope_change:this.on_scope_change.bind(this)}}},{key:"get_animation_steps",value:function(){return function(e,t,n){var a=[],r=e[0],s=rt(r,r,t,n);s&&a.push(s);var i,o=null,l=Object(y.a)(e);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=null,p=null,_=c.last_state_change,d=!1;if(null!==_){if(ae(_)?p=Je:"for loop restoration"===_.change_type?p=Qe:ie(_)?p=Ke:oe(_)?p=mt:le(_)?p=ft:ce(_)?p=Se:ue(_)?p=ot:re(_)?p=pt:se(_)?p=vt:pe(_)?(p=lt,d=!0):_e(_)?p=ct:de(_)&&(p=Ie),p&&(u=p(r,c,t,n)))if(d)o=u;else if(o){var m=ut([o,u]);o=null,m&&a.push(m)}else a.push(u);r=c}}}catch(v){l.e(v)}finally{l.f()}var f=st(r,r,t,n);return f&&a.push(f),a}(this.animation_states,this.code_scroller,this.scope_container)}}]),e}(),yt=n(26),bt=n.n(yt),gt=n(49),xt=function(){return new bt.a.Parser(bt.a.Grammar.fromCompiled(gt))},kt=n(14);function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var jt=r.a.createElement("title",null,"backward"),Ot=r.a.createElement("path",{d:"M19 5v10l-9-5 9-5zM10 5v10l-9-5 9-5z"}),Ct=function(e){var t=e.svgRef,n=e.title,a=Et(e,["svgRef","title"]);return r.a.createElement("svg",wt({className:"icon",viewBox:"0 0 20 20",ref:t},a),void 0===n?jt:n?r.a.createElement("title",null,n):null,Ot)},Nt=r.a.forwardRef((function(e,t){return r.a.createElement(Ct,wt({svgRef:t},e))}));n.p;function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Rt=r.a.createElement("title",null,"skip_previous"),Mt=r.a.createElement("path",{d:"M9.516 12l8.484-6v12zM6 6h2.016v12h-2.016v-12z"}),Tt=function(e){var t=e.svgRef,n=e.title,a=Bt(e,["svgRef","title"]);return r.a.createElement("svg",Lt({className:"svg-font",viewBox:"0 0 24 24",ref:t},a),void 0===n?Rt:n?r.a.createElement("title",null,n):null,Mt)},zt=r.a.forwardRef((function(e,t){return r.a.createElement(Tt,Lt({svgRef:t},e))}));n.p;function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ht=r.a.createElement("title",null,"skip_next"),$t=r.a.createElement("path",{d:"M15.984 6h2.016v12h-2.016v-12zM6 18v-12l8.484 6z"}),Ft=function(e){var t=e.svgRef,n=e.title,a=St(e,["svgRef","title"]);return r.a.createElement("svg",Pt({className:"svg-font",viewBox:"0 0 24 24",ref:t},a),void 0===n?Ht:n?r.a.createElement("title",null,n):null,$t)},It=r.a.forwardRef((function(e,t){return r.a.createElement(Ft,Pt({svgRef:t},e))}));n.p;function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function qt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Dt=r.a.createElement("title",null,"play_arrow"),Zt=r.a.createElement("path",{d:"M8.016 5.016l10.969 6.984-10.969 6.984v-13.969z"}),Ut=function(e){var t=e.svgRef,n=e.title,a=qt(e,["svgRef","title"]);return r.a.createElement("svg",At({className:"svg-font",viewBox:"0 0 24 24",ref:t},a),void 0===n?Dt:n?r.a.createElement("title",null,n):null,Zt)},Xt=r.a.forwardRef((function(e,t){return r.a.createElement(Ut,At({svgRef:t},e))}));n.p;function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Wt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Gt=r.a.createElement("title",null,"pause"),Jt=r.a.createElement("path",{d:"M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z"}),Yt=function(e){var t=e.svgRef,n=e.title,a=Wt(e,["svgRef","title"]);return r.a.createElement("svg",Vt({className:"svg-font",viewBox:"0 0 24 24",ref:t},a),void 0===n?Gt:n?r.a.createElement("title",null,n):null,Jt)},Kt=r.a.forwardRef((function(e,t){return r.a.createElement(Yt,Vt({svgRef:t},e))}));n.p;function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function en(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var tn=r.a.createElement("g",null,r.a.createElement("path",{d:"m504.117 293.77-9.966-5.372c-22.293 4.397-77.884 14.068-135.576 14.068-75.161 0-153.886-26.538-227.667-76.744-4.821-3.28-7.304-9.058-6.366-14.813.267-1.637 4.248-24.771 19.661-53.162-8.902-23.71-19.053-47.731-61.196-56.913-25.999-5.664-43.19 2.347-53.035 10.065-27.912 21.88-29.839 64.692-29.967 69.501-.133 5.018 2.252 9.771 6.356 12.662.822.579 82.49 58.155 107.533 80.003 18.715 16.327 27.455 40.517 23.38 64.707l-6.405 38.021c-1.566 9.296 1.027 18.756 7.114 25.955s14.985 11.327 24.413 11.327h26.369c8.688 0 16.813-3.424 22.88-9.641 6.068-6.217 9.293-14.424 9.082-23.108l-1.061-43.604c12.005 4.595 24.242 8.526 36.58 11.745 24.005 6.265 55.736 10.085 89.349 10.758.161.003.589.012.946.498.376.511.249.952.201 1.118l-3.292 11.372c-2.822 9.746-.944 19.988 5.152 28.099s15.412 12.763 25.558 12.763h23.47c8.693 0 17.122-3.606 23.125-9.894 6.002-6.287 9.214-14.874 8.812-23.556l-1.206-26.032c16.909-4.372 32.97-12.637 47.503-20.116 9.421-4.848 18.32-9.427 26.402-12.458 5.508-2.065 9.3-7.16 9.699-13.029s-2.67-11.429-7.848-14.22zm-424.302-114.915c-8.409 0-14.636-6.873-15-15-.363-8.101 7.154-15 15-15 8.409 0 14.636 6.873 15 15 .363 8.1-7.154 15-15 15z"}),r.a.createElement("path",{d:"m332.541 210.872-6.671 59.775c10.974 1.202 21.886 1.82 32.705 1.82 11.405 0 22.786-.412 33.851-1.099l-22.007-67.351z"}),r.a.createElement("path",{d:"m156.389 206.644c13.179 8.575 26.496 16.329 39.895 23.272l53.052-71.831 8.552-44.23c-.309.059-.616.119-.923.179-46.723 9.204-84.86 43.143-99.331 88.512-.47 1.47-.883 2.84-1.245 4.098z"}),r.a.createElement("path",{d:"m396.081 185.96 27.051 82.786c14.962-1.608 28.628-3.534 40.055-5.358-4.255-16.036-12.488-41.346-26.928-66.838-9.844-17.379-21.105-32.231-33.625-44.486z"}),r.a.createElement("path",{d:"m280.122 156.887 41.693 25.438 46.023-8.33 8.28-42.822c-22.526-13.956-48.008-21.142-75.867-21.142-3.806 0-7.5.098-11.12.257z"}),r.a.createElement("path",{d:"m302.907 205.931-35.58-21.709-43.422 58.792c24.06 10.356 48.262 18.053 72.3 22.971z"})),nn=function(e){var t=e.svgRef,n=e.title,a=en(e,["svgRef","title"]);return r.a.createElement("svg",Qt({id:"Capa_1",enableBackground:"new 0 0 512 512",className:"svg-font",viewBox:"0 0 512 512",ref:t},a),n?r.a.createElement("title",null,n):null,tn)},an=r.a.forwardRef((function(e,t){return r.a.createElement(nn,Qt({svgRef:t},e))}));n.p;function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function sn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var on=r.a.createElement("path",{d:"m23.508.003c-4.685-.084-10.028 2.365-13.41 6.164-3.232.061-6.379 1.386-8.696 3.703-.135.133-.183.332-.124.512.06.181.216.312.404.339l3.854.552-.476.533c-.177.198-.168.499.02.687l6.427 6.427c.097.097.225.146.354.146.119 0 .238-.042.333-.127l.533-.476.552 3.854c.027.188.175.326.354.386.046.015.094.022.143.022.142 0 .287-.062.387-.161 2.285-2.285 3.61-5.432 3.671-8.664 3.803-3.389 6.272-8.73 6.163-13.409-.007-.266-.222-.481-.489-.488zm-4.608 8.632c-.487.487-1.127.731-1.768.731s-1.281-.244-1.768-.731c-.974-.975-.974-2.561 0-3.536.975-.975 2.561-.975 3.536 0s.975 2.562 0 3.536z"}),ln=r.a.createElement("path",{d:"m2.724 16.905c-1.07 1.07-2.539 5.904-2.703 6.451-.053.176-.004.367.125.497.096.096.223.147.354.147.048 0 .096-.007.144-.021.547-.164 5.381-1.633 6.451-2.703 1.205-1.205 1.205-3.166 0-4.371-1.206-1.205-3.166-1.204-4.371 0z"}),cn=function(e){var t=e.svgRef,n=e.title,a=sn(e,["svgRef","title"]);return r.a.createElement("svg",rn({id:"bold",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",className:"svg-font",ref:t},a),n?r.a.createElement("title",null,n):null,on,ln)},un=r.a.forwardRef((function(e,t){return r.a.createElement(cn,rn({svgRef:t},e))}));n.p,n(52);var pn=function(e){var t=Object(a.useState)("paused"),n=Object(h.a)(t,2),s=n[0],i=n[1];return e.on_playback_state_change_ref.current=function(e){i(e)},r.a.createElement("div",{className:"controls-container show"},r.a.createElement("div",{className:"form-group text-light"},r.a.createElement("label",{className:"text-light"},"Playback Controls"),r.a.createElement("div",{className:"input-group btn-group-vertical playback-buttons"},r.a.createElement(kt.a,{disabled:"paused"!==s,variant:"secondary",onClick:e.rollback_all_handler},r.a.createElement(Nt,null)),r.a.createElement(kt.a,{disabled:"paused"!==s,variant:"secondary",onClick:e.step_backward_handler},r.a.createElement(zt,null)),r.a.createElement(kt.a,{disabled:"paused"!==s,variant:"secondary",onClick:e.step_forward_handler},r.a.createElement(It,null)),r.a.createElement(kt.a,{disabled:"playing"!==s&&"playing_backwards"!==s,variant:"secondary",onClick:e.pause_handler},r.a.createElement(Kt,null)),r.a.createElement(kt.a,{disabled:"paused"!==s,variant:"secondary",onClick:e.play_handler},r.a.createElement(Xt,null))),r.a.createElement("div",{className:"speed-control  py-4"},r.a.createElement("div",{className:"speed-icon"},r.a.createElement(an,null)),r.a.createElement("input",{style:{direction:"rtl"},type:"range",name:"animation-speed",min:"0",max:"500",step:"100",defaultValue:e.default_speed,onChange:function(t){var n=parseFloat(t.target.value);e.speed_change_handler(n)},id:""}),r.a.createElement("div",{className:"speed-icon"},r.a.createElement(un,null)))))};function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var mn=r.a.createElement("title",null,"edit-pencil"),fn=r.a.createElement("path",{d:"M12.3 3.7l4 4-12.3 12.3h-4v-4l12.3-12.3zM13.7 2.3l2.3-2.3 4 4-2.3 2.3-4-4z"}),vn=function(e){var t=e.svgRef,n=e.title,a=dn(e,["svgRef","title"]);return r.a.createElement("svg",_n({viewBox:"0 0 20 20",className:"icon",ref:t},a),void 0===n?mn:n?r.a.createElement("title",null,n):null,fn)},hn=r.a.forwardRef((function(e,t){return r.a.createElement(vn,_n({svgRef:t},e))}));n.p;function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function bn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gn=r.a.createElement("title",null,"film"),xn=r.a.createElement("path",{d:"M30.335 26.445c-0.128-0.221-0.538-0.289-1.231-0.202-1.275 0.165-2.201-0.251-2.778-1.251-0.437-0.756-0.55-1.516-0.339-2.28s0.836-1.854 1.874-3.272l0.649-0.904c1.928-2.663 2.323-4.979 1.186-6.95-1.157-2.006-4.5-1.837-6.903-0.806-1.944-4.009-6.040-6.78-10.793-6.78-6.628 0-12 5.373-12 12s5.372 12 12 12c6.627 0 12-5.373 12-12 0-1.469-0.277-2.871-0.76-4.171 0.811-0.291 1.781-0.502 2.696-0.536 1.202-0.044 2.29 0.208 2.722 0.956 0.963 1.669 0.498 3.641-1.395 5.913l-0.388 0.466c-2.214 2.657-2.743 4.984-1.591 6.982 0.466 0.806 1.207 1.381 2.225 1.727 1.018 0.345 1.879 0.312 2.585-0.096 0.35-0.202 0.431-0.468 0.241-0.796zM6.5 18.562c-1.381 0-2.5-1.119-2.5-2.5 0-1.38 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5c0 1.381-1.119 2.5-2.5 2.5zM12 24.062c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5zM11.020 16.062c0-0.552 0.449-1 1.001-1s1 0.447 1 1c0 0.553-0.448 1-1 1s-1.001-0.447-1.001-1zM12 13.062c-1.381 0-2.5-1.119-2.5-2.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5c0 1.381-1.119 2.5-2.5 2.5zM17.5 18.562c-1.381 0-2.5-1.119-2.5-2.5 0-1.38 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5c0 1.381-1.119 2.5-2.5 2.5z"}),kn=function(e){var t=e.svgRef,n=e.title,a=bn(e,["svgRef","title"]);return r.a.createElement("svg",yn({viewBox:"0 0 32 32",className:"icon",ref:t},a),void 0===n?gn:n?r.a.createElement("title",null,n):null,xn)},wn=r.a.forwardRef((function(e,t){return r.a.createElement(kn,yn({svgRef:t},e))}));n.p;var En=function(e){var t=null,n=hn;return"playback"===e.state_mode&&(t=r.a.createElement(pn,{on_playback_state_change_ref:e.on_playback_state_change_ref,play_handler:e.play_handler,pause_handler:e.pause_handler,rollback_all_handler:e.rollback_all_handler,step_backward_handler:e.step_backward_handler,step_forward_handler:e.step_forward_handler,speed_change_handler:e.speed_change_handler,default_speed:e.default_speed}),n=wn),r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"triggers toolbar-section"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Set Mode"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{onClick:e.toggle_mode_handler,className:"btn btn-secondary "},"Toggle")),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement(n,null)))))),r.a.createElement("div",{className:"toolbar-section"},t))},jn=n(30),On=(n(22),n(10)),Cn=n.n(On),Nn=function(e,t){return{startState:function(){return Cn.a.reset(),{current:Cn.a.save()}},token:function(e,t){var n="whatever";try{if(!e.eol()){var a=e.string.slice(e.column());Cn.a.reset(a,t.current);var r=Cn.a.next();if(r){for(var s=0;s<r.value.length;s++)e.next();n=r.type}else e.next()}}catch(i){console.error(i),n="whatever"}return t.current=Cn.a.save(),n}}};n(53);n(54);n(10);function Ln(e){return r.a.createElement(jn.UnControlled,{value:e.code,options:{mode:"tinylang",lineNumbers:!0},defineMode:{name:"tinylang",fn:Nn},onChange:function(t,n,a){e.on_code_change(a)}})}function Bn(e){var t=e.ast_program;return console.log(t),r.a.createElement("div",{className:"height-100 pos-rel",dangerouslySetInnerHTML:{__html:ve.a.renderToString(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"code-viewer nice-scroll-bar"},r.a.createElement("div",{className:"code-line-references"}),r.a.createElement("pre",{className:"code",spellCheck:"false"},r.a.createElement(ke,{ast_object:t}))),r.a.createElement("div",{className:"scopes-wrapper hidden"},r.a.createElement("div",{className:"scopes-container"},r.a.createElement("div",{className:"height-100 nice-scroll-bar scrollable-y pos-rel"},r.a.createElement("div",{className:"scopes-fullheight-wrapper"},r.a.createElement("div",{className:"scope main-scope current-scope"})))))))}})}function Rn(e){var t=e.program_status,n=r.a.createRef();function s(){return t?r.a.createElement(Bn,{ast_program:t}):r.a.createElement(Ln,{on_code_change:e.on_code_change,code:e.code})}return Object(a.useEffect)((function(){var e=n.current;if(e)for(var t=e.getElementsByClassName("cm-url"),a=0;a<t.length;a++){var r=t[a],s=r.innerHTML;r.innerHTML='<a href="'.concat(s,'">').concat(s,"</a>")}})),t?console.log("rendering with ast"):console.log("rendering with tokens"),r.a.createElement("div",{ref:n,className:"height-100"},r.a.createElement(s,null))}n(55),n(56),n(57);var Mn=n(58);Mn.options.positionClass="toast-bottom-left";var Tn=Object(o.b)((function(e){return{code:e.globals_reducer.code}}),null)((function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(e.code),s=Object(a.useRef)(300),i=Object(a.useState)(null),o=Object(h.a)(i,2),l=o[0],c=o[1],u=Object(a.useRef)((function(){})),p=Object(a.useRef)(!1),_=Object(a.useRef)(!1),d=Object(a.useRef)(!1),m=Object(a.useRef)(null),y=Object(a.useRef)([]),b=Object(a.useRef)(0),g=r.a.createRef();function x(){p.current=!0}function k(){p.current=!1}function w(){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current&&m.current&&!t.current.execution_finished&&(t.current.execute(),y.current=m.current.get_animation_steps()),!(b.current<y.current.length)||p.current){e.next=10;break}return x(),n=y.current[b.current],_.current&&Mn.info(n.name),e.next=7,n.animate(s.current);case 7:return b.current++,k(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.current>0)){e.next=9;break}return x(),t=y.current[b.current-1],_.current&&Mn.info(t.name+" rolled back"),e.next=6,t.rollback(s.current);case 6:return b.current--,k(),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current("playing_step_forward"),_.current=!0,e.next=4,w();case 4:_.current=!1,u.current("paused");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current("playing_step_forward"),_.current=!0,e.next=4,j();case 4:_.current=!1,u.current("paused");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.current("playing"),d.current=!1,t=!0;case 3:if(!t||d.current){e.next=9;break}return e.next=6,w();case 6:t=e.sent,e.next=3;break;case 9:console.log("animation finished"),u.current("paused");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(),u.current("paused");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){var e=xt();try{e.feed(n.current),console.log(n.current);var t=e.results;t.length>1&&alert("multiple interpretations");var a=t[0];console.log(a),a?(c(a),console.log("holy shit",a)):Mn.error("syntax error -U")}catch(r){console.error(r),Mn.error("syntax error")}}return Object(a.useEffect)((function(){if(y.current=[],b.current=0,l&&g.current){var e=g.current.getElementsByClassName("code-viewer")[0],n=g.current.getElementsByClassName("scopes-container")[0];m.current=new ht(e,n);var a=m.current.get_callbacks_dictionary();t.current=new te(a),t.current.init(l)}else t.current=null})),r.a.createElement("div",{className:"code-animator"},r.a.createElement("div",{className:"containers",ref:g},r.a.createElement(Rn,{on_code_change:function(e){n.current=e},code:n.current,program_status:l}),r.a.createElement(En,{state_mode:l?"playback":"edit",on_playback_state_change_ref:u,toggle_mode_handler:function(){l?c(null):R()},rollback_all_handler:function(){return B.apply(this,arguments)},play_handler:function(){return L.apply(this,arguments)},pause_handler:function(){d.current=!0},step_forward_handler:function(){return C.apply(this,arguments)},step_backward_handler:function(){return N.apply(this,arguments)},speed_change_handler:function(e){s.current=e},default_speed:s.current})))}));var zn=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{store:d},r.a.createElement("div",{className:"code-animator-container"},r.a.createElement(Tn,null))))};n(61),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(zn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.3e029970.chunk.js.map